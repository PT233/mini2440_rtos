// S3C2440 RAM Debug Script

FUNC void SetupForStart (void) {
  _WDWORD(0x53000000, 0x00000000); 
  _WDWORD(0x4A000008, 0xFFFFFFFF); 
  _WDWORD(0x4A00001C, 0x000007FF); 
  _WDWORD(0x48000000, 0x22111110); // BWSCON
  _WDWORD(0x48000004, 0x00000700); // BANKCON0
  _WDWORD(0x48000008, 0x00000700); // BANKCON1
  _WDWORD(0x4800000C, 0x00000700); // BANKCON2
  _WDWORD(0x48000010, 0x00000700); // BANKCON3
  _WDWORD(0x48000014, 0x00000700); // BANKCON4
  _WDWORD(0x48000018, 0x00000700); // BANKCON5
  _WDWORD(0x4800001C, 0x00018005); // BANKCON6 (SDRAM)
  _WDWORD(0x48000020, 0x00018005); // BANKCON7
  _WDWORD(0x48000024, 0x008C04F4); // REFRESH
  _WDWORD(0x48000028, 0x000000B1); // BANKSIZE
  _WDWORD(0x4800002C, 0x00000030); // MRSRB6
  _WDWORD(0x48000030, 0x00000030); // MRSRB7
  
  printf("S3C2440 SDRAM Initialized.\n");
}

SetupForStart();

LOAD %L INCREMENTAL

PC = 0x30000000;