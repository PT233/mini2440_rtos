


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             STARTUP, CODE, READONLY
    2 00000000                 ARM
    3 00000000                 CODE32
    4 00000000                 PRESERVE8
    5 00000000         
    6 00000000         ; ======================================================
                       ==
    7 00000000         ; Mini2440 RTOS - Keil Simulator Startup Only
    8 00000000         ; No CP15, No Clock, No SDRAM init (simulator emulates i
                       t)
    9 00000000         ; Vector Table at 0x00000000
   10 00000000         ; Code linked to 0x00000000 (simulator address space)
   11 00000000         ; ======================================================
                       ==
   12 00000000         
   13 00000000                 EXPORT           _start
   14 00000000                 EXPORT           Reset_Handler
   15 00000000         
   16 00000000                 IMPORT           main
   17 00000000                 IMPORT           OSTickISR
   18 00000000                 IMPORT           OSStartHighRdy
   19 00000000         
   20 00000000         ; ======================================================
                       ==
   21 00000000         ; Exception Vector Table (at 0x00000000)
   22 00000000         ; ======================================================
                       ==
   23 00000000         
   24 00000000         _start
   25 00000000 EAFFFFFE        B                Reset_Handler ; Reset
   26 00000004 EA000005        B                Undefined_Handler
   27 00000008 EA000005        B                SWI_Handler
   28 0000000C EA000005        B                Prefetch_Handler
   29 00000010 EA000005        B                Abort_Handler
   30 00000014 EAFFFFFE        B                .
   31 00000018 EA000005        B                IRQ_Handler ; IRQ
   32 0000001C EA000003        B                FIQ_Handler
   33 00000020         
   34 00000020         ; ======================================================
                       ==
   35 00000020         ; Exception Handlers
   36 00000020         ; ======================================================
                       ==
   37 00000020         Undefined_Handler
   38 00000020 EAFFFFFE        B                Undefined_Handler
   39 00000024         SWI_Handler
   40 00000024 EAFFFFFE        B                SWI_Handler
   41 00000028         Prefetch_Handler
   42 00000028 EAFFFFFE        B                Prefetch_Handler
   43 0000002C         Abort_Handler
   44 0000002C EAFFFFFE        B                Abort_Handler
   45 00000030         FIQ_Handler
   46 00000030 EAFFFFFE        B                FIQ_Handler
   47 00000034         
   48 00000034         ; ======================================================
                       ==
   49 00000034         ; IRQ Entry to OSTickISR
   50 00000034         ; ======================================================
                       ==



ARM Macro Assembler    Page 2 


   51 00000034         IRQ_Handler
   52 00000034 EAFFFFFE        B                OSTickISR
   53 00000038         
   54 00000038         ; ======================================================
                       ==
   55 00000038         ; Reset Handler (Simulator - No Hardware Init)
   56 00000038         ; ======================================================
                       ==
   57 00000038         Reset_Handler
   58 00000038         
   59 00000038         ; Mode Masks
   60 00000038 00000010 
                       USERMODE
                               EQU              0x10
   61 00000038 00000011 
                       FIQMODE EQU              0x11
   62 00000038 00000012 
                       IRQMODE EQU              0x12
   63 00000038 00000013 
                       SVCMODE EQU              0x13
   64 00000038 00000017 
                       ABORTMODE
                               EQU              0x17
   65 00000038 0000001B 
                       UNDEFMODE
                               EQU              0x1B
   66 00000038 0000001F 
                       MODEMASK
                               EQU              0x1F
   67 00000038         
   68 00000038         ; Stack Layout (for simulator, use IRAM: 0x40000000-0x40
                       001000, 4KB total)
   69 00000038 40000FFF 
                       STACK_BASE
                               EQU              0x40000FFF  ; Top of 4KB IRAM (
                                                            0x40000FFF is end)
   70 00000038         
   71 00000038 40000F00 
                       UndefStack
                               EQU              0x40000F00
   72 00000038 40000E00 
                       AbortStack
                               EQU              0x40000E00
   73 00000038 40000D00 
                       FIQStack
                               EQU              0x40000D00
   74 00000038 40000C00 
                       IRQStack
                               EQU              0x40000C00
   75 00000038 40000B00 
                       SVCStack
                               EQU              0x40000B00  ; Main stack
   76 00000038 40000A00 
                       UserStack
                               EQU              0x40000A00
   77 00000038         
   78 00000038         ; ========================
   79 00000038         ; Set SVC Stack (main)
   80 00000038         ; ========================



ARM Macro Assembler    Page 3 


   81 00000038 E10F0000        MRS              r0, cpsr
   82 0000003C E3C0001F        BIC              r0, r0, #MODEMASK
   83 00000040 E3800013        ORR              r0, r0, #SVCMODE
   84 00000044 E121F000        MSR              cpsr_c, r0
   85 00000048 E59FD004        LDR              sp, =SVCStack
   86 0000004C         
   87 0000004C         ; ========================
   88 0000004C         ; Jump to main()
   89 0000004C         ; ========================
   90 0000004C EBFFFFFE        BL               main
   91 00000050         
   92 00000050         Stop_Here
   93 00000050 EAFFFFFE        B                Stop_Here
   94 00000054         
   95 00000054                 END
              40000B00 
Command Line: --debug --xref --diag_suppress=9931 --cpu=ARM920T --apcs=interwor
k --depend=.\objects\startup_keil_sim.d -o.\objects\startup_keil_sim.o -IE:\Kei
l_v5\ARM\RV31\INC -IE:\Keil_v5\ARM\INC\Samsung --predefine="__UVISION_VERSION S
ETA 538" --list=.\listings\startup_keil_sim.lst arch_keil\startup_keil_sim.S



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Abort_Handler 0000002C

Symbol: Abort_Handler
   Definitions
      At line 43 in file arch_keil\startup_keil_sim.S
   Uses
      At line 29 in file arch_keil\startup_keil_sim.S
      At line 44 in file arch_keil\startup_keil_sim.S

FIQ_Handler 00000030

Symbol: FIQ_Handler
   Definitions
      At line 45 in file arch_keil\startup_keil_sim.S
   Uses
      At line 32 in file arch_keil\startup_keil_sim.S
      At line 46 in file arch_keil\startup_keil_sim.S

IRQ_Handler 00000034

Symbol: IRQ_Handler
   Definitions
      At line 51 in file arch_keil\startup_keil_sim.S
   Uses
      At line 31 in file arch_keil\startup_keil_sim.S
Comment: IRQ_Handler used once
Prefetch_Handler 00000028

Symbol: Prefetch_Handler
   Definitions
      At line 41 in file arch_keil\startup_keil_sim.S
   Uses
      At line 28 in file arch_keil\startup_keil_sim.S
      At line 42 in file arch_keil\startup_keil_sim.S

Reset_Handler 00000038

Symbol: Reset_Handler
   Definitions
      At line 57 in file arch_keil\startup_keil_sim.S
   Uses
      At line 14 in file arch_keil\startup_keil_sim.S
      At line 25 in file arch_keil\startup_keil_sim.S

STARTUP 00000000

Symbol: STARTUP
   Definitions
      At line 1 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: STARTUP unused
SWI_Handler 00000024

Symbol: SWI_Handler
   Definitions
      At line 39 in file arch_keil\startup_keil_sim.S
   Uses
      At line 27 in file arch_keil\startup_keil_sim.S



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 40 in file arch_keil\startup_keil_sim.S

Stop_Here 00000050

Symbol: Stop_Here
   Definitions
      At line 92 in file arch_keil\startup_keil_sim.S
   Uses
      At line 93 in file arch_keil\startup_keil_sim.S
Comment: Stop_Here used once
Undefined_Handler 00000020

Symbol: Undefined_Handler
   Definitions
      At line 37 in file arch_keil\startup_keil_sim.S
   Uses
      At line 26 in file arch_keil\startup_keil_sim.S
      At line 38 in file arch_keil\startup_keil_sim.S

_start 00000000

Symbol: _start
   Definitions
      At line 24 in file arch_keil\startup_keil_sim.S
   Uses
      At line 13 in file arch_keil\startup_keil_sim.S
Comment: _start used once
10 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ABORTMODE 00000017

Symbol: ABORTMODE
   Definitions
      At line 64 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: ABORTMODE unused
AbortStack 40000E00

Symbol: AbortStack
   Definitions
      At line 72 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: AbortStack unused
FIQMODE 00000011

Symbol: FIQMODE
   Definitions
      At line 61 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: FIQMODE unused
FIQStack 40000D00

Symbol: FIQStack
   Definitions
      At line 73 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: FIQStack unused
IRQMODE 00000012

Symbol: IRQMODE
   Definitions
      At line 62 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: IRQMODE unused
IRQStack 40000C00

Symbol: IRQStack
   Definitions
      At line 74 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: IRQStack unused
MODEMASK 0000001F

Symbol: MODEMASK
   Definitions
      At line 66 in file arch_keil\startup_keil_sim.S
   Uses
      At line 82 in file arch_keil\startup_keil_sim.S
Comment: MODEMASK used once
STACK_BASE 40000FFF

Symbol: STACK_BASE



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 69 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: STACK_BASE unused
SVCMODE 00000013

Symbol: SVCMODE
   Definitions
      At line 63 in file arch_keil\startup_keil_sim.S
   Uses
      At line 83 in file arch_keil\startup_keil_sim.S
Comment: SVCMODE used once
SVCStack 40000B00

Symbol: SVCStack
   Definitions
      At line 75 in file arch_keil\startup_keil_sim.S
   Uses
      At line 85 in file arch_keil\startup_keil_sim.S
Comment: SVCStack used once
UNDEFMODE 0000001B

Symbol: UNDEFMODE
   Definitions
      At line 65 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: UNDEFMODE unused
USERMODE 00000010

Symbol: USERMODE
   Definitions
      At line 60 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: USERMODE unused
UndefStack 40000F00

Symbol: UndefStack
   Definitions
      At line 71 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: UndefStack unused
UserStack 40000A00

Symbol: UserStack
   Definitions
      At line 76 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: UserStack unused
14 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

OSStartHighRdy 00000000

Symbol: OSStartHighRdy
   Definitions
      At line 18 in file arch_keil\startup_keil_sim.S
   Uses
      None
Comment: OSStartHighRdy unused
OSTickISR 00000000

Symbol: OSTickISR
   Definitions
      At line 17 in file arch_keil\startup_keil_sim.S
   Uses
      At line 52 in file arch_keil\startup_keil_sim.S
Comment: OSTickISR used once
main 00000000

Symbol: main
   Definitions
      At line 16 in file arch_keil\startup_keil_sim.S
   Uses
      At line 90 in file arch_keil\startup_keil_sim.S
Comment: main used once
3 symbols
360 symbols in table
